{ "$schema": "https://vega.github.io/schema/vega-lite/v5.json",

    "title": {
      "text": ["Canada Population Density by Province"],
      "subtitle":["Data: Statistics Canada"],
      "subtitleFontStyle":"italic",
      "subtitleFontSize":10,
      "anchor": "start",
      "color": "black"
    },

"width": 500,
"height": 300,
"data": {
  "url": "https://raw.githubusercontent.com/vikrajendran/vikrajendran.github.io/main/canadaprov.json",
  "format": {"property": "features"}},

"projection": {"type": "mercator"},

"transform": [
  {
    "lookup": "properties.gn_name",
    "from": {
      "data": {
        "url": "https://raw.githubusercontent.com/vikrajendran/vikrajendran.github.io/main/CanadaDensity.csv"},
        "key": "Province",
        "fields": ["Population density per square kilometre, 2021"]
      }
    }
],
"mark": {
  "type": "geoshape",
  "stroke": "black",
  "strokewidth": 0.5
},

"encoding": {

  "color": {
        "field": "Population density per square kilometre, 2021", 
        "type": "quantitative",
        "scale": {"scheme": "magma"},
        "legend": {"orient":"bottom"},
        "title":"People per KmÂ²"}, 
    
  "tooltip": [
    {"field": "properties.gn_name", "type": "nominal", "title": "Province"},
    {"field": "Population density per square kilometre, 2021", "type": "quantitative", "title": "Population Density", "format":".1f"}
  ]
}


}
